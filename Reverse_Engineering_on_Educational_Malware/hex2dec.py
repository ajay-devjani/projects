# Code Stats:
# Written by: Ajay Devjani, M.Tech INSE
# Project Co-partner: Rushaan Qureshi, M.Tech INSE
# Course: ENGR 6991: "5-Credits Project"
# Prof: Makan Pourzandi
# Concordia Session: Summer 2022

# Importing the libraries
import sys


def hex2dec():
    # Get the path/filename from command line argument.
    path = str(sys.argv[1])
    # Open the specific file in read mode.
    try:
        fp = open(path, "r", encoding="utf-8")
        hex_lines = fp.readlines()
        fp.close()
    except:
        print("Error opening file: " + path)
        return False

    # For every hex generate its corresponding decimal.
    hexdec = []
    for hex_line in hex_lines:
        hexdec.append(int(hex_line.split("\t")[0].strip(), 16))

    # Write all decimal values in dec.txt
    try:
        with open("dec.txt", "w+", encoding="utf-8") as fp:
            for line in hexdec:
                fp.write(str(line) + "\n")
        fp.close()
        print("Writing of dec.txt successful.\n")
    except:
        print("Error in writing file: " + path)


hex2dec()
